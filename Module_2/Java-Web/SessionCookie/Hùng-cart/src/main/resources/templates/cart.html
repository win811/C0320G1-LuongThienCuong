<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Cart information</title>
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet"/>
</head>
<body>
<h1>Cart information</h1>
<th:block th:if="${message!=null}">
    <div style="color: green" th:text="${message}"></div>
</th:block>
<p>
    <a class="btn btn-primary" th:href="@{/products}">Back to product list</a>
</p>
<form th:action="@{/products/payment}" th:method="get" >

<table class="table table-bordered table-dark">
    <tr>
        <th>Name</th>
        <th>Quantity</th>
        <th>Price per one</th>
        <th>Action</th>
    </tr>
    <th:block th:each="key:${cart.getCarList().keySet()}">
        <tr >
            <td th:text="${key.getName()}"></td>
            <td>
                <input type="number" min="1" max="20" th:value="${cart.getCarList().get(key)}">
            </td>
            <td th:text="${key.price}"></td>
            <td>
                <a th:href="@{/products/deletecart/__${key.getId()}__}">Delete</a>
            </td>
        </tr>
    </th:block>
    <tr>
        <td>Total payment:</td>
        <td th:colspan="3" th:text="${cart.getTotalPayment()}"></td>
    </tr>
    <tr >
        <td th:colspan="4">
            <input type="submit" value="Payment">
        </td>
    </tr>
</table>
</form>
</body>
</html>